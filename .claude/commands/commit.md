# Command: commit

Automatically stage all files and create a meaningful commit message with proper ticket formatting.

## Steps:

1. Stage all changes:

   ```bash
   git add .
   ```

2. Get the current branch name to extract ticket number:

   ```bash
   git branch --show-current
   ```

3. Get the staged changes to understand what was modified:

   ```bash
   git diff --cached --name-status
   ```

4. Get a summary of the changes for context:

   ```bash
   git diff --cached --stat
   ```

5. Analyze the staged changes and create a commit message following these rules:

   - Extract ticket number from branch name (e.g., TEC-16401, TEC-15283, etc.)
   - If branch contains pattern like `TEC-XXXXX`, `bug-XXXXX`, `hotfix-XXXXX`, etc., start commit message with the ticket number
   - Format: `TEC-XXXXX: [descriptive message]`
   - Keep message 1-2 sentences max
   - Make it descriptive and meaningful based on the actual changes
   - Use present tense, imperative mood (e.g., "Add", "Fix", "Update", "Refactor")

6. Create the commit with the generated message:
   ```bash
   git commit -m "[generated message]"
   ```

   **Important**: NEVER include any AI attribution or indication that the commit was generated by AI, such as:
   - "Generated with Claude Code"
   - "Co-Authored-By: Claude" or "Co-Authored-By: Claude Sonnet 4.5"
   - Any other AI attribution, signature, or co-author tags

## Branch Name Patterns to Extract:

- `feature/TEC-16401-lp-ui-v2-a11y` → `TEC-16401:`
- `bugfix/TEC-15283-pq-bug-fix-ro` → `TEC-15283:`
- `hotfix/TEC-12345-critical-fix` → `TEC-12345:`
- Any pattern with `[PREFIX-]XXXXX` where XXXXX is a number

## Example Outputs:

- Branch: `feature/TEC-16401-lp-ui-v2-a11y`
- Changes: Updated button components and added accessibility attributes
- Commit: `TEC-16401: Add accessibility attributes to button components`

- Branch: `bugfix/TEC-15283-pq-bug-fix-ro`
- Changes: Fixed null pointer exception in user service
- Commit: `TEC-15283: Fix null pointer exception in user service`
